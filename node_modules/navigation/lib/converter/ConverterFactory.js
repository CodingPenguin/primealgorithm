var ArrayConverter = require('./ArrayConverter');
var BooleanConverter = require('./BooleanConverter');
var DateConverter = require('./DateConverter');
var NumberConverter = require('./NumberConverter');
var StringConverter = require('./StringConverter');
var TypeConverter = require('./TypeConverter');
var keyToConverterList = {};
var nameToKeyList = {};
var converterArray = [
    new StringConverter('0'), new BooleanConverter('1'),
    new NumberConverter('2'), new DateConverter('3')];
for (var i = 0; i < converterArray.length; i++) {
    var converter = converterArray[i];
    var arrayConverter = new ArrayConverter(converter, 'a' + converter.key);
    keyToConverterList[converter.key] = converter;
    keyToConverterList[arrayConverter.key] = arrayConverter;
    nameToKeyList[converter.name] = converter.key;
    nameToKeyList[arrayConverter.name] = arrayConverter.key;
}
var ConverterFactory = (function () {
    function ConverterFactory() {
    }
    ConverterFactory.getConverter = function (obj) {
        return this.getConverterFromName(TypeConverter.getName(obj));
    };
    ConverterFactory.getConverterFromKey = function (key) {
        return keyToConverterList[key];
    };
    ConverterFactory.getConverterFromName = function (name) {
        var key = nameToKeyList[name];
        if (!key)
            throw new Error('No TypeConverter found for ' + name);
        return this.getConverterFromKey(key);
    };
    return ConverterFactory;
})();
module.exports = ConverterFactory;
